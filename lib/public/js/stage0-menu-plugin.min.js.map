{"version":3,"file":"stage0-menu-plugin.min.js","sources":["../src/components.js","../src/index.js"],"sourcesContent":["import h from \"stage0\";\nimport { keyed } from \"stage0/keyed\";\n\nimport \"./menu.sass\";\nimport \"./item.sass\";\nimport \"./search.sass\";\n\n/**\n * Base component\n * @param {*} scope\n */\nexport function BaseComponent(scope) {\n  const view = this.getView();\n\n  this.root = view.cloneNode(true);\n\n  const refCl = view.collect(this.root);\n\n  this.setRefs(refCl);\n  this.init(scope);\n}\n\nBaseComponent.prototype = {\n  getView: function() {\n    return h([\"<div></div>\"]);\n  },\n  init: function(scope) {\n    this.root.update = this.rootUpdate.bind(this);\n    this.root.update(scope);\n  },\n  setRefs: function(refCl) {\n    this.refs = refCl;\n  },\n  rootUpdate: function(_scope) {}\n};\n\nexport function extend(ChildClass, ParentClass) {\n  ChildClass.prototype = Object.assign({}, ParentClass.prototype, ChildClass.prototype);\n  ChildClass.prototype.constructor = ChildClass;\n}\n\n/**\n * MenuComponent\n * @param {*} socket\n * @param {*} type\n */\nexport function MenuComponent({ searchBar, delay, docked }) {\n  this.items = [];\n\n  this.visibleItems = [];\n  this.renderedItems = [];\n\n  this.visible = false;\n  this.x = 0;\n  this.y = 0;\n  this.args = {};\n  this.delay = delay || 100;\n  this.leafs = [];\n  this.docked = docked;\n\n  this.showSearchBar = searchBar === undefined ? true : searchBar;\n  this.searchBar = this.showSearchBar ? new SearchBarComponent(this) : null;\n\n  this.hideTimeout = null;\n\n  BaseComponent.call(this, {});\n}\n\nMenuComponent.prototype.init = function(scope) {\n  BaseComponent.prototype.init.call(this, scope);\n  if (this.showSearchBar) {\n    this.root.insertBefore(this.searchBar.root, this.refs.items);\n  }\n  if (this.docked) {\n    this.root.classList.add(\"docked\");\n  }\n};\n\nMenuComponent.prototype.getView = function() {\n  return h([\"<div class='context-menu'><div #items></div></div>\"]);\n};\n\nMenuComponent.prototype.getItemComponent = function(item, delay, menuArgs) {\n  return new ItemComponent(item, delay, menuArgs);\n};\n\nMenuComponent.prototype.show = function(x, y, args = {}) {\n  if (this.hideTimeout) {\n    clearTimeout(this.hideTimeout);\n    this.hideTimeout = null;\n  } else {\n    if (this.showSearchBar) this.searchBar.refs.search.value = \"\";\n    this.visible = true;\n    this.x = x;\n    this.y = y;\n    this.args = args;\n    this.rootUpdate();\n  }\n};\n\nMenuComponent.prototype.hide = function() {\n  if (this.visible && !this.hideTimeout) {\n    this.hideTimeout = setTimeout(() => {\n      this.visible = false;\n      this.rootUpdate();\n      this.hideTimeout = null;\n    }, this.delay);\n  }\n};\n\nMenuComponent.prototype.updateStyle = function() {\n  this.root.style.top = this.y + \"px\";\n  this.root.style.left = this.x + \"px\";\n};\n\nMenuComponent.prototype.rootUpdate = function(search = \"\") {\n  this.visibleItems = this.docked || this.visible ? this.items.slice() : [];\n\n  if (search != \"\") {\n    this.visibleItems = this.docked\n      ? [\n          {\n            title: \"Search\",\n            visible: true,\n            subitems: this.leafs.filter(item => {\n              return item.title.toLowerCase().indexOf(search.toLowerCase()) > -1;\n            })\n          }\n        ]\n      : this.leafs.filter(item => {\n          return item.title.toLowerCase().indexOf(search.toLowerCase()) > -1;\n        });\n  }\n\n  if (!this.docked && (!this.visible || !this.visibleItems.length)) {\n    this.root.style.display = \"none\";\n  } else {\n    this.root.style.display = \"block\";\n  }\n\n  keyed(\n    \"title\",\n    this.refs.items,\n    this.renderedItems,\n    this.visibleItems,\n    item => this.getItemComponent(item, this.delay, this.args).root,\n    (node, item) => node.update(item)\n  );\n\n  this.renderedItems = this.visibleItems.slice();\n\n  if (!this.docked) {\n    this.updateStyle();\n  }\n};\n\nMenuComponent.prototype.initItemsTrav = function(items, createNode, path = []) {\n  if (items.data) {\n    const title = path.pop();\n\n    this.addItem({\n      title: title,\n      onClick: () => {\n        createNode(items);\n      },\n      path\n    });\n  } else if (typeof items === \"function\") {\n    const title = path.pop();\n\n    this.addItem({\n      title: title,\n      onClick: () => {\n        items();\n      },\n      path\n    });\n  } else {\n    for (const key in items) {\n      let newPath = path.slice();\n      newPath.push(key);\n      this.initItemsTrav(items[key], createNode, newPath);\n    }\n  }\n};\n\nMenuComponent.prototype.initItems = function(items, createNode) {\n  this.initItemsTrav(items, createNode);\n  this.rootUpdate();\n};\n\nMenuComponent.prototype.addItem = function({ title, onClick, path = [] }) {\n  let items = this.items;\n\n  for (let levelKey in path) {\n    const level = path[levelKey];\n    let exist = items.find(i => i.title === level);\n\n    if (!exist) {\n      exist = { title: level, subitems: [] };\n      items.push(exist);\n    }\n\n    items = exist.subitems;\n  }\n\n  this.leafs.push({ title, onClick, path });\n\n  items.push({ title, onClick });\n\n  this.rootUpdate();\n};\n\nextend(MenuComponent, BaseComponent);\n\n/**\n * ItemComponent\n * @param {*} item\n */\nexport function ItemComponent(item, delay, menuArgs) {\n  this.showSubItems = false;\n  this.visibleSubItems = [];\n  this.renderedSubItems = [];\n  this.hideTimeout = null;\n  this.delay = delay;\n  this.menuArgs = menuArgs;\n  this.title;\n  BaseComponent.call(this, item);\n}\n\nItemComponent.prototype.init = function(i) {\n  BaseComponent.prototype.init.call(this, i);\n\n  if (i.onClick) {\n    this.root.onclick = () => {\n      i.onClick(this.menuArgs);\n    };\n  }\n\n  this.root.onmouseover = () => {\n    if (this.hideTimeout) {\n      clearTimeout(this.hideTimeout);\n      this.hideTimeout = null;\n    } else {\n      this.showSubItems = true;\n      this.rootUpdate(i);\n    }\n  };\n  this.root.onmouseleave = () => {\n    if (this.showSubItems && !this.hideTimeout) {\n      this.hideTimeout = setTimeout(() => {\n        this.showSubItems = false;\n        this.rootUpdate(i);\n        this.hideTimeout = null;\n      }, this.delay);\n    }\n  };\n};\n\nItemComponent.prototype.getItemComponent = function(item) {\n  return new ItemComponent(item);\n};\n\nItemComponent.prototype.getView = function() {\n  return h([\"<div class='item'><span #title></span><div class='subitems' #subitems></div></div>\"]);\n};\n\nItemComponent.prototype.rootUpdate = function({ title, subitems, path, visible }) {\n  if (path) {\n    title = path.join(\" <i class='item-path-conn'></i> \") + \" <i class='item-path-conn'></i> \" + title;\n  }\n\n  if (this.title !== title) this.refs.title.innerHTML = title;\n\n  this.title = title;\n\n  if (subitems && subitems.length) {\n    this.root.classList.add(\"hasSubitems\");\n  } else {\n    this.root.classList.remove(\"hasSubitems\");\n  }\n\n  this.visibleSubItems = this.showSubItems || visible ? subitems || [] : [];\n\n  keyed(\n    \"title\",\n    this.refs.subitems,\n    this.renderedSubItems,\n    this.visibleSubItems,\n    item => this.getItemComponent(item).root,\n    (node, item) => node.update(item)\n  );\n\n  this.renderedSubItems = this.visibleSubItems.slice();\n};\n\nextend(ItemComponent, BaseComponent);\n\n/**\n * SearchBarComponent\n * @param {*} item\n */\nexport function SearchBarComponent(menu) {\n  BaseComponent.call(this, menu);\n}\n\nSearchBarComponent.prototype.init = function(menu) {\n  BaseComponent.prototype.init.call(this, menu);\n  this.refs.search.onkeyup = e => {\n    menu.rootUpdate(e.target.value);\n  };\n  this.refs.search.onmousedown = e => {\n    e.stopPropagation();\n  };\n  this.refs.clear.onmousedown = e => {\n    e.stopPropagation();\n  };\n  this.refs.clear.onclick = e => {\n    this.refs.search.value = \"\";\n    menu.rootUpdate(\"\");\n  };\n};\n\nSearchBarComponent.prototype.getView = function() {\n  return h([\"<div class='search'><input #search/><span class='clear' #clear></span></div>\"]);\n};\n\nSearchBarComponent.prototype.rootUpdate = function() {};\n\nextend(SearchBarComponent, BaseComponent);\n","import { MenuComponent } from \"./components\";\n\nasync function createNode(component, { data = {}, meta = {}, x, y, docked = false, editor }) {\n  const node = await component.createNode(data);\n\n  node.meta = meta;\n\n  if (!docked) {\n    node.position[0] = x;\n    node.position[1] = y;\n  } else {\n    node.position[0] = -editor.view.area.transform.x;\n    node.position[1] = -editor.view.area.transform.y;\n  }\n\n  return node;\n}\n\nfunction createMenu(editor, props) {\n  const el = document.createElement(\"div\");\n\n  editor.view.container.appendChild(el);\n\n  const menu = new MenuComponent(props);\n\n  el.appendChild(menu.root);\n\n  return menu;\n}\n\nfunction configureMenu(menu, { items, mouse, docked, editor, allocate }) {\n  if (items) {\n    menu.initItems(items, async _component => {\n      editor.addNode(await createNode(_component, { ...mouse, docked, editor }));\n    });\n  }\n\n  editor.on(\"componentregister\", component => {\n    const allocateRes = component.path ? component.path :  allocate(component);\n\n\n    if (allocateRes) {\n      menu.addItem({\n        title: component.label,\n        async onClick() {\n          editor.addNode(await createNode(component, { ...mouse, docked, editor }));\n        },\n        path: allocateRes\n      });\n    }\n  });\n}\n\nfunction install(editor, { menuOptions, dockedMenuOptions = null }) {\n  editor.bind(\"hidecontextmenu\");\n\n  const mouse = { x: 0, y: 0 };\n\n  const menu = createMenu(editor, {\n    searchBar: menuOptions.searchBar,\n    delay: menuOptions.delay,\n    docked: false\n  });\n\n  const dockedMenu = !dockedMenuOptions\n    ? null\n    : createMenu(editor, {\n        searchBar: dockedMenuOptions.searchBar,\n        delay: dockedMenuOptions.delay,\n        docked: true\n      });\n\n  const nodeMenu = createMenu(editor, { searchBar: false, delay: menuOptions.delay, docked: false });\n\n  editor.on(\"hidecontextmenu\", () => {\n    nodeMenu.hide();\n    menu.hide();\n  });\n\n  nodeMenu.addItem({\n    title: \"Delete\",\n    onClick(args) {\n      editor.removeNode(args.node);\n      nodeMenu.hide();\n    }\n  });\n\n  nodeMenu.addItem({\n    title: \"Clone\",\n    async onClick(args) {\n      const {\n        name,\n        data,\n        meta,\n        position: [x, y]\n      } = args.node;\n      const component = editor.components.get(name);\n\n      editor.addNode(\n        await createNode(component, { data, meta, x: x + 10, y: y + 10, editor, docked: false })\n      );\n      nodeMenu.hide();\n    }\n  });\n\n  configureMenu(menu, {\n    items: menuOptions.items,\n    mouse,\n    docked: false,\n    editor,\n    allocate: menuOptions.allocate\n  });\n\n  if (dockedMenu)\n    configureMenu(dockedMenu, {\n      items: dockedMenuOptions.items,\n      mouse,\n      docked: true,\n      editor,\n      allocate: dockedMenuOptions.allocate\n    });\n\n  editor.on(\"mousemove\", ({ x, y }) => {\n    mouse.x = x;\n    mouse.y = y;\n  });\n\n  editor.on(\"click\", () => {\n    editor.trigger(\"hidecontextmenu\");\n  });\n\n  editor.on(\"contextmenu\", ({ e, node }) => {\n    e.preventDefault();\n    e.stopPropagation();\n    editor.trigger(\"hidecontextmenu\");\n\n    const [x, y] = [e.clientX, e.clientY];\n\n    if (node) {\n      nodeMenu.show(x, y, { node });\n    } else {\n      menu.show(x, y);\n    }\n  });\n}\n\nexport default {\n  install\n};\n"],"names":["BaseComponent","scope","view","this","getView","root","cloneNode","refCl","collect","setRefs","init","extend","ChildClass","ParentClass","prototype","Object","assign","constructor","MenuComponent","searchBar","delay","docked","items","visibleItems","renderedItems","visible","x","y","args","leafs","showSearchBar","undefined","SearchBarComponent","hideTimeout","call","ItemComponent","item","menuArgs","showSubItems","visibleSubItems","renderedSubItems","title","menu","h","update","rootUpdate","bind","refs","_scope","insertBefore","classList","add","getItemComponent","show","search","value","hide","setTimeout","updateStyle","style","top","left","slice","filter","toLowerCase","indexOf","length","display","_this2","node","initItemsTrav","createNode","path","data","pop","addItem","key","newPath","push","initItems","onClick","levelKey","level","exist","find","i","subitems","onclick","_this3","onmouseover","onmouseleave","join","innerHTML","remove","_this4","onkeyup","e","target","onmousedown","stopPropagation","clear","component","meta","editor","position","area","transform","createMenu","props","el","document","createElement","container","appendChild","configureMenu","mouse","allocate","_component","addNode","on","allocateRes","label","menuOptions","dockedMenuOptions","dockedMenu","nodeMenu","removeNode","name","components","get","trigger","preventDefault","clientX","clientY"],"mappings":"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"}